vm_1: Jns234-1
vm_2: Jns234-2
mysql_host: "{{ vm_2 }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35633232303031626161313730313363663061396434663062643961663863616566636335623237
          3063636364643033333436383539343534393938663437320a333562616461613761373930333835
          64313232613564393036636634633537626630356336366630396363636633353138323838616333
          3636666637333334370a663439346439643761376263333238393630663866623231313636633835
          3135
mysql_exporter_user: exporter
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32663265323666623433393136633966646239393036303362306162656438333566373037363935
          6531393736643939393865626237626234346235643539650a376462383663306332313438616332
          37323436663364656466663136353064326537666361353135353562613233663830663732396363
          3363653466613935620a366631613665643365633130623336313562363465303338616638373966
          3166
uswg_addr: localhost:5000
dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9
local_ip_self: 192.168.42.0/23
local_ip_second: 127.0.0.0/8
container_network: 172.17.0.0/16
startup_name: jankang
domain: jankang.jk.
domain_dotles: jankang.jk
reverse_domain: 168.192.in-addr.arpa
bind_exporter_addr: 127.0.0.1
bind_exporter_port: 8053
prometheus_servers_port: 9090
prometheus_metrics_port: 9100
prometheus_jobs:
  - name: linux
    target_port: 9100
    target_group: all
  - name: bind9
    target_port: 9119
    target_group: dns_servers
  - name: nginx
    target_port: 9113
    target_group: web_servers
  - name: mysql
    target_port: 9104
    target_group: db_servers
  - name: influxdb
    target_port: 9424
    target_group: influxdb_servers
  - name: haproxy
    target_port: 9101
    target_group: haproxy
  - name: keepalived
    target_port: 9165
    target_group: keepalived
grafana_user: Jns234
grafana_admin_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64613430333139376436356164373238396638363432663637623665313533306538366266643330
          3165623262656132333538323237633461373961326238380a356664326466343238333634323461
          34663237613839626432633239386639653633623734643231363935343134643336643561346334
          3261356336653566660a373165383938363265313735623137376564393534626538336462623239
          3738
targets: "8.8.8.8,google.com,ttu.ee"
influx_db_name: influxdb1
influx_db_port: 8086
backup_server_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
backup_mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34613261643764636536326638646136356332636639386137393663666530333435313662633038
          6633633138373936313863326262626562653765643630630a353263613035323237623065393734
          34336231353033633535666231323864313363353834643533613131346361656164663437663130
          6561326239363763640a353365383430313762633533343366613261386439366135656137636361
          3036
replication_mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66373161626433653465346237303438663266346166393661306661313332336536666334346461
          6366616433313230373063353861353264346665356234360a656663353966323962643831373335
          37653638323137643639666536616163363139363335643265366164396666613936623666363462
          3664636564383639330a313938666563653931303265616334633436323936393439626466353832
          3131
node_id: "{{ (ansible_port / 100) | int }}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
grafana_port_variable: "{{  (hostvars[groups['hosts'][0]].ansible_port|string)[:-2] ~ '80' }}"
grafana_docker_port: 3000
grafana_port: 3001
agama_docker_port: 8001
agama_host: http://jns234-1
agama_ha_port: 88
ha_stats_port: 9188
dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64353035616465393964643635616663613265353266383664653538326439336538623535656464
          3661353737393064643731333732613763643034656230320a353030383031356433613462316261
          62663437396561363334616564303336386138323738326339323761303634343630366463323065
          3037323538356439360a326232303861346239326263353539343864323335326635393631313337
          31653366613666353464313739323332616634366561356136353034616336343432
dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63663035663761396434323663613736396361633465346636363338323765633263643661386431
          3765353632333864323564366661386364383762643939360a303631306630626366613439323130
          30626139313236626334353365356330393833623834316465313430333966666434363563373964
          3935333030366261360a383131653262303365396633363935353038636162306430643763363538
          31386630393332653563663135626362376465663037383763346166633866633436
a_records:
    backup: "{{ backup_server_ip }}"

cname_records:
    grafana: "{{ groups['grafana_servers'][0] }}"
    influxdb: "{{ groups['influxdb_servers'][0] }}"
    lb1: "{{ groups['keepalived'][0] }}"
    lb2: "{{ groups['keepalived'][1] }}"
    mysql1: "{{ groups['db_servers'][0] }}"
    mysql2: "{{ groups['db_servers'][1] }}"
    ns1: "{{ groups['dns_servers'][0] }}"
    ns2: "{{ groups['dns_servers'][1] }}"
    prometheus: "{{ groups['prometheus_servers'][0] }}"
    web1: "{{ groups['web_servers'][0] }}"
    web2: "{{ groups['web_servers'][1] }}"

nr_of_agama_containers_per_vm: 2