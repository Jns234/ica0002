vm_1: Jns234-1
vm_2: Jns234-2
mysql_host: "{{ vm_2 }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35313830633938623466336561373764363430633464343462616536376662656431323237326232
          6133623166306663353238616464626338386562616537340a323131653865323964653764663533
          31393031393963383564366239653036656633653139653137313730666638643433363765626563
          3561626132383737340a383934613037323639353836316439666563363862626135363661376665
          3963
mysql_exporter_user: exporter
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64613430333139376436356164373238396638363432663637623665313533306538366266643330
          3165623262656132333538323237633461373961326238380a356664326466343238333634323461
          34663237613839626432633239386639653633623734643231363935343134643336643561346334
          3261356336653566660a373165383938363265313735623137376564393534626538336462623239
          3738
uswg_addr: localhost:5000
dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9
local_ip_self: 192.168.42.0/23
local_ip_second: 127.0.0.0/8
container_network: 172.17.0.0/16
startup_name: jankang
domain: jankang.jk.
domain_dotles: jankang.jk
reverse_domain: 168.192.in-addr.arpa
bind_exporter_addr: 127.0.0.1
bind_exporter_port: 8053
prometheus_servers_port: 9090
prometheus_metrics_port: 9100
prometheus_jobs:
  - name: linux
    target_port: 9100
    target_group: all
  - name: bind9
    target_port: 9119
    target_group: dns_servers
  - name: nginx
    target_port: 9113
    target_group: web_servers
  - name: mysql
    target_port: 9104
    target_group: db_servers
  - name: influxdb
    target_port: 9424
    target_group: influxdb_servers
  - name: haproxy
    target_port: "{{ ha_stats_port }}"
    target_group: haproxy
  - name: keepalived
    target_port: 9165
    target_group: keepalived
grafana_user: Jns234
grafana_admin_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64613430333139376436356164373238396638363432663637623665313533306538366266643330
          3165623262656132333538323237633461373961326238380a356664326466343238333634323461
          34663237613839626432633239386639653633623734643231363935343134643336643561346334
          3261356336653566660a373165383938363265313735623137376564393534626538336462623239
          3738
targets: "8.8.8.8,google.com,ttu.ee"
influx_db_name: influxdb1
influx_db_port: 8086
backup_server_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
backup_mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38366561623866353738383137353036613939653863303536323737353565373032303331346639
          6634373566326330336235386534386331633763303365330a346563386164646538383265636436
          66623833393765363036653866633230326364636465323031333664346131643635643336336665
          3364333339366463660a666633323864396530373662646439306534363332633739643639373430
          37383032643064356261643363326461326534646430626239353563373631333937
replication_mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39396236323162613838373561663730316130626633306261356662356462303739643836363664
          3034373835663230656434613836613138346331306537340a303466366565643331356437663463
          38633465633965376266633336656561663630333738616431346162343039356235643938643964
          6263373135623364650a643136343433353365613232333066643262313732666462626233363837
          62356635373365306632353534636232653862313632653231623238643933646163
node_id: "{{ (ansible_port / 100) | int }}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
grafana_port_variable: "{{  (hostvars[groups['hosts'][0]].ansible_port|string)[:-2] ~ '80' }}"
grafana_docker_port: 3000
grafana_port: 3001
agama_docker_port: 8001
agama_host: http://jns234-1
agama_ha_port: 88
ha_stats_port: 9188
dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34333861396438323035633463653463333836313431313734343932666135353834363330373065
          3833656539326466633039303965613561306630623238630a643235353234323831303061656664
          35666162353036343564663764383536323734613062363161356663643162626433356264616162
          3738386635396564640a393661373332613833303731393036313662623463653332336564653033
          65323333633334613932613737336233356433353963663434303463356461636563333465303866
          3434616364653734323664376535306334366563613137366432
dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38633630323831326362333832323035623631613538653735643664366164653238303237313831
          3231356164356137653938386161633833363239306638640a646631393335643266313434666536
          36393763656264346533316137626361626636303464323631623231373766373636303731393735
          3463383535613362300a643235666138306130633364316330313136343533343930626137316164
          66643336663062396633323930313962353932396664363063366262643335316539316662303263
          6161393833633761623238623232613361393130303862666666
a_records:
    backup: "{{ backup_server_ip }}"

cname_records:
    grafana: "{{ groups['grafana_servers'][0] }}"
    influxdb: "{{ groups['influxdb_servers'][0] }}"
    lb1: "{{ groups['keepalived'][0] }}"
    lb2: "{{ groups['keepalived'][1] }}"
    mysql1: "{{ groups['db_servers'][0] }}"
    mysql2: "{{ groups['db_servers'][1] }}"
    ns1: "{{ groups['dns_servers'][0] }}"
    ns2: "{{ groups['dns_servers'][1] }}"
    prometheus: "{{ groups['prometheus_servers'][0] }}"
    web1: "{{ groups['web_servers'][0] }}"
    web2: "{{ groups['web_servers'][1] }}"